{
  "_id": "_design/api",
  "_rev": "4-b04137aded2fe0297c8a3fa83a436944",
  "language": "javascript",
  "views": {
    "groups": {
      "map": "function(doc) {\n  if (doc.type == \"group\")\n    emit(null, doc.name);\n}"
    },
    "discussions": {
      "map": "function(doc) {\n  if (doc.type == \"discussion\")\n    emit(doc.group.id, doc.name);\n}"
    },
    "messages": {
      "map": "function(doc) {\n  if (doc.type == \"message\")\n    emit(doc.discussion.id, doc.body);\n}"
    }
  }
}
